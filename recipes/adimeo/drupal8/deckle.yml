project:
  name: cmd<cwd()>
  docker-compose: docker-compose.dkl.yml
  

env:
  COMPOSE_PROJECT_NAME: conf<project.name>
  # Ports
  APACHE_PORT: 8480
  PMA_HTTP_PORT: 8488

  # MySQL
  MYSQL_DATABASE: conf<project.name>
  MYSQL_USER: conf<project.name>
  MYSQL_PORT: 8406

  # PhpMyAdmin
  PMA_HOST: mysql
  PMA_PORT: 3306
  PMA_USER: root
  PMA_PASSWORD: env<MYSQL_ROOT_PASSWORD>
  PHP_UPLOAD_MAX_FILESIZE: 1G
  PHP_MAX_INPUT_VARS: 1G

containers:
  apache:
    httpd:
      vhost:
        template: containers/apache/config/httpd/vhost.dkl.conf
      apt:
        - apt-utils
        - curl
        - git
        - apache2
        - libapache2-mod-php
        - php-cli
        - php-json
        - php-curl
        - php-fpm
        - php-gd
        - php-ldap
        - php-mbstring
        - php-mysql
        - php-soap
        - php-sqlite3
        - php-xml
        - php-zip
        - php-intl
        - php-imagick
        - php-xdebug
        - patch
        - unzip
        - openssl
        - vim
        - graphicsmagick
        - imagemagick
        - ghostscript
        - mysql-client
        - iputils-ping
        - locales
        - sqlite3
        - ca-certificates

    php:
      ini_files:
        - apache/php

